## 시각화 함수

### graphics 

- 산점도, 히스토그램, 막대형 그래프 등의 시각화 기능 
- 함수 : plot, hist, barplot, pie, boxplot 등    

#### plot

- 산점도를 나타내는 시각화 함수 

```R
a = c(3,5,4)
plot(a)
```

![image](https://user-images.githubusercontent.com/81945553/141960582-a263d377-8121-4cd8-9250-98fcae53ae2a.png)

```R
length <- iris$Petal.Length
width <- iris$Petal.Width
plot(x = length, y = width)
```

![image](https://user-images.githubusercontent.com/81945553/141961103-9199c4ee-0f15-42e6-9f85-04ec2afe337b.png)

```R
x <- c(1,5,2,4,6,9,11,8,13)
plot(x, main="시계열", type="l")
```

![image](https://user-images.githubusercontent.com/81945553/141961814-c6b757c6-874f-4b5a-acb8-554cb5ba9df1.png)

#### hist

- x축은 계급, y축은 계급의 도수 또는 상대도수를 막대 모양으로 시각화하는 히스토그램 출력 함수 (막대 간 붙어있다.)

```R
length <- iris$Sepal.Length
hist(length, xlab = "꽃 받침 길이", ylab ="수량", main = "꽃받침 길이 분포")
```

![image](https://user-images.githubusercontent.com/81945553/141962226-c9ae7d7c-4c0a-49d4-bca6-f3d2491881ac.png)

```R
length <- iris$Sepal.Length
hist(x = length, breaks=4, freq =FALSE)
```

![image](https://user-images.githubusercontent.com/81945553/141962784-0f6d0e7e-04c9-48c2-8e33-5d70889f707d.png)

#### barplot

- 막대그래프를 출력하는 함수 
- x축의 범주별로 도수, 평균 등의 수치형 데이터를 시각화 
- barplot(height, 옵션) - names.arg (각 막대에 사용할 문자열 벡터)

```R
name <- c("1분기", "2분기", "3분기", "4분기")
barplot(h, names.arg = name)
```

![image](https://user-images.githubusercontent.com/81945553/141963260-41e45934-013e-492d-a864-3c5e1b77608b.png)

```R
h <- table(iris$Species)
barplot(h, ylab="수량", main = "종별 수량")
```

![image](https://user-images.githubusercontent.com/81945553/141963475-7517a79e-506f-4bfe-bee7-60be391ddbc1.png)

- iris 종별 개수를 table 함수를 이용하여 구하고, 이를 막대형 그래프로 시각화 



```R
sales <- c(15,23,5,20)
seasons <- c("1분기", "2분기", "3분기", "4분기")
df <- data.frame(sales, seasons)
barplot(sales ~ seasons, data = df)
```

![image](https://user-images.githubusercontent.com/81945553/141964138-034124f3-6d1b-40fd-b558-695654d39e72.png)

- **formula** : x축과 y축 데이터를 지정 - **y~x로** y는 수치형, x는 범주형 데이터 



#### pie

- 범주형 변수에 대한 상대 도수를 원그래프의 형태로 시각화 
- labels : 파이 조각이름, density : 사선의 밀도, angle : 각도

```R
p <- c(15, 23, 5, 20)
l <- c("1분기", "2분기", "3분기", "4분기")
pie(x =p, labels = l)
// 첫 조각 부터 30도씩 사선을 그을 각도 지정 
pie(x=p, labels=l, density=50, angle=30 * 1.4)
```

![image](https://user-images.githubusercontent.com/81945553/141964893-121f4eb3-3368-4a63-91b1-7218933a7db2.png)

![image](https://user-images.githubusercontent.com/81945553/141965140-31c091df-0b53-432a-8a96-d40820210b96.png)

#### boxplot

- 범주형 데이터에 대한 분포를 상자 형태로 시각화하여 보여주는 그래프 (상자 수염 그림)

```R
s <- iris$Sepal.Length
boxplot(s, main = "꽃받침 길이 분포")
```

![image](https://user-images.githubusercontent.com/81945553/141965416-79c5419b-9507-4b7c-953f-85f52c57423e.png)



```R
boxplot(iris$Sepal.Length ~ iris$Species, notch = TRUE, xlab = "종별", ylab = "꽃받침 길이", main = "종별 꽃받침 길이 분포")
```

![image](https://user-images.githubusercontent.com/81945553/142146106-1fee8d68-2804-46bd-bbd9-f5426767ee2f.png)

- formula와 notch를 사용한 상자 수염 그림 
- notch : 상자가 움푹 파이도록, Sepal.Length (수치형 데이터), Sepcies(범주형 데이터)





### ggplot

- graphics 문법에 기반한 그래프(plot)
- 데이터와 좌표체계 등 동일한 구성요소로 모든 그래프를 작성할 수 있다는 아이디어에서 착안한 패키지 
- 구성 요소 
  - Data : 시각화하려는 데이터 또는 실제 정보를 의미	
  - Aesthetics : 축의 스케일, 색상, 채우기 등 미학적/시각적 속성을 의미
  - Geometries(geoms) : 데이터를 표현하는 도형을 의미 (산점도의 점, 그래프의 막대나 선 등)
- 기본 문법
  - data : 그래프를 그릴 객체명
  - aes(x,y) : x는 x축에 해당하는 컬럼명, y는 y축에 해당하는 컬럼명
  - geom_xx() : 그래프 지정 함수 
- 주요 함수 (geom_bar, geom_col, geom_point, geom_line, geom_boxplot 등)



#### geom_bar

```R
install.packages("ggplot2") #ggplot 패키지 다운로드 
ggplot(diamonds, aes(color))+geom_bar() # geom_bar() : 막대그래프 
```

![image](https://user-images.githubusercontent.com/81945553/142149179-3409e5da-ebb0-4af6-97fa-3ffda9c51fbc.png)

- 그래프에 필요한 객체인 diamonds 대입 , x축에 들어갈 컬럼명을 diamonds 객체 중 color로 선택, 막대그래프로 표현 
- 다이아몬드 색깔 정보에 대한 시각화 



#### geom_point

- 산점도를 그리는 함수 

```R
ggplot(sleep, aes(x=ID, y=extra)) + geom_point()
```

![image](https://user-images.githubusercontent.com/81945553/142149652-7c7a99a8-600c-45d1-b14b-14f470642169.png)

- sleep 데이터 사용. extra, group, ID 총 3개의 컬럼으로 이루어진 데이터를 활용



#### geom_line

- 선을 그리는 함수 

```R
ggplot(Orange, aes(age, circumference))+geom_line(aes(color=Tree))
```

![image](https://user-images.githubusercontent.com/81945553/142150275-28bf86a8-3e6d-49c9-96d0-fe79c6a02b23.png)



#### geom_boxplot

- 박스 그래프를 그리는 함수 

```R
ggplot(data=airquality, aes(x=Month, y=Temp, group=Month)) + geom_boxplot()
```

![image](https://user-images.githubusercontent.com/81945553/142150236-797bf6d7-9971-4ef0-8062-e448aa6096e3.png)

